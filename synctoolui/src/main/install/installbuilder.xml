<project>
    <shortName>${project.artifactId}</shortName>
    <fullName>${project.name}</fullName>
    <version>${project.version}</version>
    <readmeFile>${project.build.directory}/install/README</readmeFile>
    <licenseFile>${basedir}/../LICENSE</licenseFile>
    <logoImage>${basedir}/src/main/install/duracloud-logo.png</logoImage>
    <leftImage>${basedir}/src/main/install/duracloud-logo.png</leftImage>
    <splashImage>${basedir}/src/main/install/duracloud-logo.png</splashImage>
    <componentList>
        <component>
            <name>default</name>
            <description>Default Component</description>
            <canBeEdited>1</canBeEdited>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfiles</name>
                    <platforms>all</platforms>
                    <actionList>
                        <renameFile>
                            <destination>${installdir}/${product_shortname}.jar</destination>
                            <origin>${installdir}/duracloud-sync-${project.version}.jar</origin>
                        </renameFile>
                    </actionList>
                    <distributionFileList>
                        <distributionFile>
                            <includeFiles></includeFiles>
                            <origin>${project.build.directory}/duracloud-sync-${project.version}.jar</origin>
                        </distributionFile>
                        <distributionFile>
                            <includeFiles></includeFiles>
                            <origin>${basedir}/src/main/install/duracloud-logo.png</origin>
                        </distributionFile>
                        <distributionFile>
                            <includeFiles></includeFiles>
                            <origin>${basedir}/src/main/install/duracloud-icon.png</origin>
                        </distributionFile>
                        <distributionFile>
                            <includeFiles></includeFiles>
                            <origin>${basedir}/src/main/install/duracloud.ico</origin>
                        </distributionFile>
                    </distributionFileList>
                    <shortcutList>
                        <shortcut>
                            <comment>Uninstall</comment>
                            <exec>${installdir}/${uninstallerName}</exec>
                            <icon></icon>
                            <name>Uninstall ${product_fullname}</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runAsAdmin>0</runAsAdmin>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                        <shortcut>
                            <comment>Launch</comment>
                            <exec>${installdir}/${product_fullname}</exec>
                            <icon></icon>
                            <name>${product_fullname}</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runAsAdmin>0</runAsAdmin>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>${installdir}/${product_shortname}.exe</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                    </shortcutList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileslinux</name>
                    <platforms>linux</platforms>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileswindows</name>
                    <platforms>windows</platforms>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfilesosx</name>
                    <platforms>osx</platforms>
                </folder>
            </folderList>
            <startMenuShortcutList>
                <startMenuShortcut>
                    <comment>Uninstall ${product_fullname}</comment>
                    <name>Uninstall ${product_fullname}</name>
                    <runAsAdmin>0</runAsAdmin>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath>${installdir}/</windowsPath>
                </startMenuShortcut>
                <startMenuShortcut>
                    <comment>${product_fullname}</comment>
                    <name>${product_fullname}</name>
                    <runAsAdmin>0</runAsAdmin>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${installdir}/${product_shortname}.exe</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath>${installdir}/</windowsPath>
                </startMenuShortcut>
            </startMenuShortcutList>
        </component>
    </componentList>
<preInstallationActionList>
    <autodetectJava>
        <abortOnError>0</abortOnError>
        <customErrorMessage>This program requires Java 1.7.0 or above.  Click next and you will be taken to the java downloads page.</customErrorMessage>
        <explanation>Checking for valid java version...</explanation>
        <promptUser>0</promptUser>
        <selectionOrder>newest</selectionOrder>
        <validVersionList>
            <validVersion>
                <bitness></bitness>
                <maxVersion></maxVersion>
                <minVersion>1.7.0</minVersion>
                <requireJDK>0</requireJDK>
                <vendor></vendor>
            </validVersion>
        </validVersionList>
    </autodetectJava>
    <launchBrowser>
      <url>http://java.com/en/download/index.jsp</url>
    <ruleList>
        <compareValues>
            <logic>equals</logic>
            <value1>${java_autodetected}</value1>
            <value2>0</value2>
        </compareValues>
    </ruleList>
    </launchBrowser>
    <showInfo>
        <text>Once you have finished downloading and installing java, click "OK" to continue with the Sync Tool installation.</text>
    <ruleList>
        <compareValues>
            <logic>equals</logic>
            <value1>${java_autodetected}</value1>
            <value2>0</value2>
        </compareValues>
    </ruleList>
    </showInfo>
    <autodetectJava>
        <promptUser>0</promptUser>
        <validVersionList>
            <validVersion>
                <bitness></bitness>
                <maxVersion></maxVersion>
                <minVersion>1.7.0</minVersion>
                <requireJDK>0</requireJDK>
                <vendor></vendor>
            </validVersion>
        </validVersionList>
    </autodetectJava>
</preInstallationActionList>

    <postInstallationActionList>
        <createJavaLaunchers>
            <destination>${installdir}</destination>
            <javaLauncherList>
                <javaLauncher>
                    <allowCommandLineArguments>0</allowCommandLineArguments>
                    <arguments></arguments>
                    <binaryName>${product_shortname}</binaryName>
                    <classpath></classpath>
                    <jarFile>${installdir}/${product_shortname}.jar</jarFile>
                    <mainClass></mainClass>
                    <preferredJavaBinary></preferredJavaBinary>
                    <runInConsole>0</runInConsole>
                    <vmParameters></vmParameters>
                    <windowsResourceFileVersion>1.0.0.0</windowsResourceFileVersion>
                    <workingDirectory>${user_home_directory}</workingDirectory>
                    <validVersionList>
                        <validVersion>
                            <bitness></bitness>
                            <maxVersion></maxVersion>
                            <minVersion>1.7.0</minVersion>
                            <requireJDK>0</requireJDK>
                            <vendor></vendor>
                        </validVersion>
                    </validVersionList>
                </javaLauncher>
            </javaLauncherList>
        </createJavaLaunchers>
    </postInstallationActionList>
    <enableDebugger>1</enableDebugger>
    <enableRollback>1</enableRollback>
    <enableTimestamp>1</enableTimestamp>
    <outputDirectory>${project.build.directory}</outputDirectory>
    <saveRelativePaths>0</saveRelativePaths>
    <vendor>Duraspace, Inc.</vendor>
    <windowsExecutableIcon>${basedir}/src/main/install/duracloud.ico</windowsExecutableIcon>
    <osxApplicationBundleIcon>${basedir}/src/main/install/duracloud-sync.icns</osxApplicationBundleIcon>
    <finalPageActionList>
        <runProgram>
            <progressText>Launch Application</progressText>
            <programArguments>${installdir}/${product_shortname}.app</programArguments>
            <program>open</program>
                <ruleList>
        <platformTest>
            <type>osx</type>
        </platformTest>
    </ruleList>
        </runProgram>
        <runProgram>
            <progressText>Launch Application</progressText>
            <program>${installdir}/${product_shortname}.exe</program>
            <programArguments></programArguments>
                <ruleList>
        <platformTest>
            <type>windows</type>
        </platformTest>
    </ruleList>
        </runProgram>
        <runProgram>
            <progressText>Launch Application</progressText>
            <program>${installdir}/${product_shortname}</program>
            <programArguments></programArguments>
                <ruleList>
        <platformTest>
            <type>linux</type>
        </platformTest>
    </ruleList>
        </runProgram>
    </finalPageActionList>    
    <parameterList>
        <directoryParameter>
            <name>installdir</name>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value></value>
            <default>${platform_install_prefix}/${product_shortname}</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>yes</ask>
            <cliOptionName>prefix</cliOptionName>
            <mustBeWritable>yes</mustBeWritable>
            <mustExist>0</mustExist>
            <width>30</width>
        </directoryParameter>
    </parameterList>
</project>

