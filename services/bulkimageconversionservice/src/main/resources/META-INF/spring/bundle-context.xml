<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:osgix="http://www.springframework.org/schema/osgi-compendium"
  xsi:schemaLocation="http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans.xsd  
      http://www.springframework.org/schema/osgi-compendium 
      http://www.springframework.org/schema/osgi-compendium/spring-osgi-compendium.xsd">

  <!-- Spring beans which are used by the bundle are defined here. -->
  <bean id="bulkImageConversionService" class="org.duracloud.services.bulkimageconversion.BulkImageConversionService"
   destroy-method="stop">
    <osgix:managed-properties persistent-id="bulkimageconversionservice-${project.version}.zip"
        update-strategy="container-managed"/>
    <property name="serviceId" value="bulkimageconversionservice-${project.version}" />
	  <property name="duraStoreHost" value="localhost"/>
    <property name="duraStorePort" value="8080"/>
    <property name="duraStoreContext" value="durastore"/>
    <property name="toFormat" value="jp2"/>
    <property name="colorSpace" value="source"/>
    <property name="sourceSpaceId" value="image-conversion-source"/>
    <property name="outputSpaceId" value="image-conversion-output"/>
    <property name="destSpaceId" value="${service.output.spaceid}"/>
    <property name="workSpaceId" value="${service.work.spaceid}"/>
    <property name="namePrefix" value=""/>
    <property name="nameSuffix" value=""/>
    <property name="optimizeType" value="optimize_for_speed"/>
    <property name="costNumInstances" value="3"/>
    <property name="costInstanceType" value="m1.large"/>
    <property name="speedNumInstances" value="10"/>
    <property name="speedInstanceType" value="m1.xlarge"/>
    <property name="mappersPerInstance" value="1"/>
  </bean>

</beans>
